<div #addDocumentModal="mdbModal" (onHidden)="modalOnHidden()" [config]="{backdrop: true, ignoreBackdropClick: true}"
     aria-hidden="true"
     aria-labelledby="myModalLabel" class="modal fade top"
     id="frameModalTop"
     mdbModal role="dialog"
     tabindex="-1">
  <!--Dialog-->
  <div class="modal-dialog modal-notify" role="document">
    <!--Content-->
    <div class="modal-content mb-0" id="addDocumentFormContent">
      <!--Header-->
      <div class="modal-header text-center info-color-dark">
        <h4
          class="modal-title white-text  w-100 font-weight-bold py-2">{{ 'add-header.usernameRequired' | translate }}</h4>
        <button (click)="addDocumentModal.hide()" [disabled]="showSpinner" aria-label="Close" class="close"
                data-dismiss="modal"
                type="button">
          <span aria-hidden="true" class="white-text">&times;</span>
        </button>
      </div>
      <!--FormView-->
      <div *ngIf="!showSuccessView" class="modal-body">
        <!--Form-->
        <form (ngSubmit)="onSubmit()" [formGroup]="addDocumentForm">
          <!--Title-->
          <div class="md-form">
            <input [validateSuccess]="false" class="form-control" formControlName="title" id="title" mdbInput
                   mdbValidate type="text">
            <label data-error="wrong" data-success="right" for="title">
              {{ 'add-header.title' | translate }}
              <span class="required-field"></span>
            </label>
            <mdb-error *ngIf="title.invalid && (title.dirty || title.touched || wasSubmitted)">
              <span *ngIf="title.errors.required">{{ 'add-header.titleRequired' | translate }}</span>
              <span *ngIf="title.errors.minlength">{{ 'add-header.titleMin' | translate }}</span>
              <span *ngIf="title.errors.maxlength">{{ 'add-header.titleMax' | translate }}</span>
            </mdb-error>
          </div>
          <!--Brief-->
          <div class="md-form">
            <input [validateSuccess]="false" class="form-control" formControlName="brief" id="brief" mdbInput
                   mdbValidate type="text">
            <label data-error="wrong" data-success="right" for="brief">
              {{ 'add-header.brief' | translate }}
              <span class="required-field"></span>
            </label>
            <mdb-error *ngIf="brief.invalid && (brief.dirty || brief.touched || wasSubmitted)">
              <span *ngIf="brief.errors.required">{{ 'add-header.briefRequired' | translate }}</span>
              <span *ngIf="brief.errors.minlength">{{ 'add-header.briefMin' | translate }}</span>
              <span *ngIf="brief.errors.maxlength">{{ 'add-header.briefMax' | translate }}</span>
            </mdb-error>
          </div>
          <!--Description-->
          <div class="md-form">
            <textarea [validateSuccess]="false" class="form-control md-textarea" formControlName="description"
                      id="description" mdbInput mdbValidate rows="3"
                      type="text"></textarea>
            <label for="description">
              {{ 'add-header.description' | translate }}
            </label>
            <mdb-error *ngIf="description.invalid && (description.dirty || description.touched || wasSubmitted)">
              <span *ngIf="description.errors.maxlength">{{ 'add-header.descriptionMax' | translate }}</span>
            </mdb-error>
          </div>
          <!--File-->
          <div class="md-form file-field">
            <input (change)="onFileChange($event)" id="file" name="file" style="width: 235px" type="file"/>
            <span class="required-field pb-3"></span>
            <label *ngIf="invalidFileType && file"
                   class="file-error-message">{{ 'add-header.fileInvalidFormat' | translate }}</label>
            <label *ngIf="!file && wasSubmitted"
                   class="file-error-message">{{ 'add-header.fileRequired' | translate }}</label>
          </div>

          <!-- Submit  -->
          <button block="true" class=" waves-effect z-depth-0 primary-dark-outlined-button" mdbBtn mdbWavesEffect
                  outline="true"
                  type="submit">
            <span *ngIf="!showSpinner">{{ 'shared.submit' | translate }}</span>
            <span *ngIf="showSpinner">
              <span aria-hidden="true" class="mr-2 spinner-border spinner-border-sm" role="status"></span>
              <span>{{ 'shared.loading' | translate }}</span>
            </span>
          </button>
          <!--./Form-->
        </form>
      </div>

      <!--SuccessView-->
      <div *ngIf="showSuccessView" class="modal-body">
        <div class="text-center">
          <i class="fas fa-check fa-4x mb-3 animated rotateIn" id="success-icon"></i>
          <p>{{ 'add-document.successTitle' | translate }}
            <br>{{ 'add-document.successMsg' | translate }}</p>
        </div>

        <button (click)="addDocumentModal.hide()" block="true"
                class=" waves-effect z-depth-0 primary-dark-outlined-button" mdbBtn
                mdbWavesEffect
                outline="true"
                type="submit">
          {{ 'shared.ok' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
